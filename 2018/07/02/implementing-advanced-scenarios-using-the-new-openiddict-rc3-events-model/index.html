<!DOCTYPE html><html><head><meta charset="utf-8"><title>Implementing advanced scenarios using the new OpenIddict RC3 events model | Kévin Chalet&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="In this post, discover how to leverage the events model introduced in OpenIddict RC3 to implement advanced features."><meta property="og:type" content="article"><meta property="og:title" content="Implementing advanced scenarios using the new OpenIddict RC3 events model"><meta property="og:url" content="https://kevinchalet.com/2018/07/02/implementing-advanced-scenarios-using-the-new-openiddict-rc3-events-model/index.html"><meta property="og:site_name" content="Kévin Chalet&#39;s blog"><meta property="og:description" content="In this post, discover how to leverage the events model introduced in OpenIddict RC3 to implement advanced features."><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2018-07-02T16:15:00.000Z"><meta property="article:modified_time" content="2018-07-02T16:13:12.000Z"><meta property="article:author" content="Kévin Chalet"><meta property="article:tag" content="asp.net core"><meta property="article:tag" content="authentication"><meta property="article:tag" content="jwt"><meta property="article:tag" content="oauth"><meta property="article:tag" content="openid connect"><meta property="article:tag" content="openiddict"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@kevin_chalet"><link rel="icon" href="https://kevinchalet.com/assets/photo.png"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"><script type="text/javascript">!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-79360312-1","auto"),ga("send","pageview")</script><meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><span class="site-title">Kévin Chalet&#39;s blog</span></a><nav id="main-nav"><a class="main-nav-link" href="/.">Home</a> <a class="main-nav-link" href="/archives/">Archives</a></nav><nav id="sub-nav"><div class="profile" id="profile-nav"><a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://kevinchalet.com/assets/photo.png"><i class="fa fa-caret-down"></i></a></div></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"></button><input type="hidden" name="sitesearch" value="https://kevinchalet.com"></form></div></div></div></header><div class="outer"><aside id="profile"><div class="inner profile-inner"><div class="base-info profile-block"><img id="avatar" src="https://kevinchalet.com/assets/photo.png"><h2 id="name">Kévin Chalet</h2><h3 id="title">.NET-holic and OpenID-addict MVP in the wild.</h3><span id="location"><i class="fa fa-map-marker"></i>France</span> <a id="follow" target="_blank" rel="noopener" href="https://twitter.com/intent/user?screen_name=kevin_chalet"><i class="fa fa-twitter fa-lg"></i> Follow me on Twitter</a></div><div class="article-info profile-block"><div class="article-info-block">47 <span>posts</span></div><div class="article-info-block">37 <span>tags</span></div></div><div class="contact-info profile-block"><table class="contact-list"><tr><td><a href="mailto:contact@kevinchalet.com" title="Email"><i class="fa fa-envelope"></i></a></td><td><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/kevinchalet/" title="LinkedIn"><i class="fa fa-linkedin"></i></a></td><td><a target="_blank" rel="noopener" href="https://github.com/kevinchalet" title="GitHub"><i class="fa fa-github"></i></a></td><td><a target="_blank" rel="noopener" href="https://twitter.com/kevin_chalet" title="Twitter"><i class="fa fa-twitter"></i></a></td><td><a target="_blank" rel="noopener" href="https://stackoverflow.com/users/542757/k%c3%a9vin-chalet" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a></td><td><a target="_blank" rel="noopener" href="https://mvp.microsoft.com/fr-fr/PublicProfile/5001682" title="Microsoft MVP"><i class="fa fa-windows"></i></a></td><td><a href="/atom.xml" title="RSS"><i class="fa fa-rss"></i></a></td></tr></table></div></div></aside><section id="main"><article id="post-implementing-advanced-scenarios-using-the-new-openiddict-rc3-events-model" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Implementing advanced scenarios using the new OpenIddict RC3 events model</h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2018/07/02/implementing-advanced-scenarios-using-the-new-openiddict-rc3-events-model/"><time datetime="2018-07-02T16:15:00.000Z" itemprop="datePublished">2018-07-02</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><p>Prior to OpenIddict RC3, <a target="_blank" rel="noopener" href="https://github.com/aspnet-contrib/AspNet.Security.OpenIdConnect.Server/blob/dev/src/AspNet.Security.OpenIdConnect.Server/OpenIdConnectServerProvider.cs">the events model used by the OpenID Connect server middleware</a> (i.e the OIDC server framework behind OpenIddict) was deliberately not accessible due to the nature of OpenIddict: being initially designed for non-experts, exposing such a powerful API – <strong>that allows altering the way OpenID Connect requests are processed</strong> – didn't seem like a good idea at first sight.</p><p>With time, the core audience of OpenIddict has evolved a bit to not only include beginners but also developers who were already familiar with OAuth/OpenID Connect or had used <code>OAuthAuthorizationServerMiddleware</code> or ASOS in the past. For them, the fact OpenIddict didn't allow them to take control of the request processing pipeline was often a blocker. <strong>With the introduction of OpenIddict RC3, we're changing that.</strong></p><div class="note info"><p>Using these advanced APIs is not recommended if you're not familiar with the OAuth/OpenID Connect specifications or with <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own OpenID Connect server with ASOS: creating your own authorization provider">the events model used by the OpenID Connect server middleware</a>. If you're not sure whether you should use these APIs, don't hesitate to reach us on Gitter or on GitHub.</p></div><h2 id="Introducing-event-handlers"><a href="#Introducing-event-handlers" class="headerlink" title="Introducing event handlers"></a>Introducing event handlers</h2><p>The events model is structured around <code>IOpenIddictServerEventHandler&lt;TEvent&gt;</code> and <code>IOpenIddictValidationEventHandler&lt;TEvent&gt;</code>. <strong>These 2 interfaces represent handlers that are invoked every time an event of type <code>TEvent</code> is triggered by the OpenIddict server or validation handlers</strong>.</p><p>At the time of writing, <strong>OpenIddict exposes 44 server events</strong> – grouped into the <code>OpenIddictServerEvents</code> static class to make them easier to find – <strong>and 5 validation events</strong>, exposed under <code>OpenIddictValidationEvents</code>.</p><p><strong>Each event represents a specific moment in the request processing pipeline</strong> (e.g the moment the OpenIddict server determines whether the request is an OpenID Connect request it should handle, the moment it extracts it, handles it or returns a response).</p><div class="note tip"><p><strong>Multiple handlers of the same type can be registered</strong>: they will be sequentially invoked in the same order as the one used to register them. As soon as a handler calls a method that indicates the request should no longer be processed (e.g <code>HandleResponse()</code> or <code>SkipHandler()</code>), OpenIddict will stop invoking the handlers and the next ones will be automatically ignored.</p><p>For security reasons, <strong>the custom handlers will be invoked by OpenIddict after its own validation routines</strong>. If a request is rejected by OpenIddict, your own handlers won't be invoked.</p></div><h2 id="Creating-and-registering-a-custom-event-handler"><a href="#Creating-and-registering-a-custom-event-handler" class="headerlink" title="Creating and registering a custom event handler"></a>Creating and registering a custom event handler</h2><p>Creating an event handler is straightforward: pick the event you need and add a class that implements either <code>IOpenIddictServerEventHandler&lt;TEvent&gt;</code> (for a handler that receives events triggered by the OpenIddict server services) or <code>IOpenIddictValidationEventHandler&lt;TEvent&gt;</code> (for a handler that receives events triggered by the OpenIddict token validation services):</p><p>For instance, to return custom metadata in the discovery document, you'll need to implement <code>IOpenIddictServerEventHandler&lt;OpenIddictServerEvents.HandleConfigurationRequest&gt;</code>:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyEventHandler</span> : <span class="title">IOpenIddictServerEventHandler</span>&lt;<span class="title">OpenIddictServerEvents.HandleConfigurationRequest</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">HandleAsync</span>(<span class="params">OpenIddictServerEvents.HandleConfigurationRequest notification, CancellationToken cancellationToken</span>)</span></span><br><span class="line">    {</span><br><span class="line">        notification.Context.Metadata[<span class="string">"company_name"</span>] = <span class="string">"Contoso"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>To register it, use <code>options.AddEventHandler&lt;TEvent, THandler&gt;()</code> (by default, the handler is registered as a scoped service):</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureServices</span>(<span class="params">IServiceCollection services</span>)</span></span><br><span class="line">{</span><br><span class="line">    services.AddOpenIddict()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict core services.</span></span><br><span class="line">        .AddCore(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict server handler.</span></span><br><span class="line">        .AddServer(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">            options.AddEventHandler&lt;OpenIddictServerEvents.HandleConfigurationRequest, MyEventHandler&gt;();</span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict validation handler.</span></span><br><span class="line">        .AddValidation();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><span id="more"></span><p>Alternatively, <strong>if your handler can be trivialy implemented and doesn't use constructor injection, you can register it inline</strong>:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureServices</span>(<span class="params">IServiceCollection services</span>)</span></span><br><span class="line">{</span><br><span class="line">    services.AddOpenIddict()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict core services.</span></span><br><span class="line">        .AddCore(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict server handler.</span></span><br><span class="line">        .AddServer(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">            options.AddEventHandler&lt;OpenIddictServerEvents.HandleConfigurationRequest&gt;(</span><br><span class="line">                notification =&gt;</span><br><span class="line">                {</span><br><span class="line">                    notification.Context.Metadata[<span class="string">"company_name"</span>] = <span class="string">"Contoso"</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">                });</span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict validation handler.</span></span><br><span class="line">        .AddValidation();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="Concrete-examples"><a href="#Concrete-examples" class="headerlink" title="Concrete examples"></a>Concrete examples</h2><h3 id="Tweaking-the-endpoint-detection-logic"><a href="#Tweaking-the-endpoint-detection-logic" class="headerlink" title="Tweaking the endpoint detection logic"></a>Tweaking the endpoint detection logic</h3><p>By default, <strong>OpenIddict uses a path-based endpoint resolution logic to determine whether the incoming request is an OpenID Connect request</strong> it should handle. This is done by comparing the request path to the endpoint paths registered in the OpenIddict server options. In some cases, you'll probably want to listen on multiple paths at the same time instead of a single one. For that, you can use the <code>OpenIddictServerEvents.MatchEndpoint</code> event:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">options.AddEventHandler&lt;OpenIddictServerEvents.MatchEndpoint&gt;(notification =&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// By default, only requests sent to /connect/token will be treated as valid</span></span><br><span class="line">    <span class="comment">// token requests by OpenIddict. This custom logic allows requests pointing</span></span><br><span class="line">    <span class="comment">// to /connect/second-token-endpoint to be treated the same way so that</span></span><br><span class="line">    <span class="comment">// requests can be sent to one of the two addresses without any distinction.</span></span><br><span class="line">    <span class="keyword">var</span> request = notification.Context.HttpContext.Request;</span><br><span class="line">    <span class="keyword">if</span> (request.Path == <span class="string">"/connect/second-token-endpoint"</span>)</span><br><span class="line">    {</span><br><span class="line">        notification.Context.MatchTokenEndpoint();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><h3 id="Returning-the-list-of-supported-social-providers-as-part-of-the-discovery-document"><a href="#Returning-the-list-of-supported-social-providers-as-part-of-the-discovery-document" class="headerlink" title="Returning the list of supported social providers as part of the discovery document"></a>Returning the list of supported social providers as part of the discovery document</h3><p>If you need to expose the external providers that are supported by your server application, you can use the <code>HandleConfigurationRequest</code> event:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyEventHandler</span> : <span class="title">IOpenIddictServerEventHandler</span>&lt;<span class="title">OpenIddictServerEvents.HandleConfigurationRequest</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IAuthenticationSchemeProvider _authenticationSchemeProvider;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyEventHandler</span>(<span class="params">IAuthenticationSchemeProvider authenticationSchemeProvider</span>)</span></span><br><span class="line">        =&gt; _authenticationSchemeProvider = authenticationSchemeProvider;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">HandleAsync</span>(<span class="params">OpenIddictServerEvents.HandleConfigurationRequest notification, CancellationToken cancellationToken</span>)</span></span><br><span class="line">        =&gt; notification.Context.Metadata[<span class="string">"external_providers_supported"</span>] = <span class="keyword">new</span> JArray(</span><br><span class="line">            <span class="keyword">from</span> provider <span class="keyword">in</span> <span class="keyword">await</span> _authenticationSchemeProvider.GetAllSchemesAsync()</span><br><span class="line">            <span class="keyword">where</span> !<span class="built_in">string</span>.IsNullOrEmpty(provider.DisplayName)</span><br><span class="line">            <span class="keyword">select</span> provider.Name);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"issuer"</span><span class="punctuation">:</span> <span class="string">"https://localhost:44344/"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"token_endpoint"</span><span class="punctuation">:</span> <span class="string">"https://localhost:44344/connect/token"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"jwks_uri"</span><span class="punctuation">:</span> <span class="string">"https://localhost:44344/.well-known/jwks"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"grant_types_supported"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"password"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"refresh_token"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"scopes_supported"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"openid"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"offline_access"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"claims_supported"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"aud"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"exp"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"iat"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"iss"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"jti"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"sub"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"subject_types_supported"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"public"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"token_endpoint_auth_methods_supported"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"client_secret_basic"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"client_secret_post"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"claims_parameter_supported"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"request_parameter_supported"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"request_uri_parameter_supported"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"external_providers_supported"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"Google"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"Microsoft"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"Facebook"</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure><h3 id="Implementing-the-token-endpoint-at-the-handler-level-without-having-an-authorization-controller"><a href="#Implementing-the-token-endpoint-at-the-handler-level-without-having-an-authorization-controller" class="headerlink" title="Implementing the token endpoint at the handler level without having an authorization controller"></a>Implementing the token endpoint at the handler level without having an authorization controller</h3><p>With OpenIddict, the "standard" way to process authorization or token requests is to have an authorization controller dedicated to handling these requests. Starting with RC3, <strong>this can also be done directly at the OpenIddict server handler level</strong> (e.g for those who don't need or don't want to use ASP.NET Core MVC).</p><p>Here's how it could be done by writing an <code>OpenIddictServerBuilder</code> extension:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">CustomOpenIddictServerExtensions</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OpenIddictServerBuilder <span class="title">UseCustomTokenEndpoint</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">this</span> OpenIddictServerBuilder builder</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (builder == <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(builder));</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> builder.AddEventHandler&lt;OpenIddictServerEvents.HandleTokenRequest&gt;(</span><br><span class="line">            notification =&gt;</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">var</span> request = notification.Context.Request;</span><br><span class="line">                <span class="keyword">if</span> (!request.IsPasswordGrantType())</span><br><span class="line">                {</span><br><span class="line">                    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Validate the user credentials.</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// Note: to mitigate brute force attacks, you SHOULD strongly consider</span></span><br><span class="line">                <span class="comment">// applying a key derivation function like PBKDF2 to slow down</span></span><br><span class="line">                <span class="comment">// the password validation process. You SHOULD also consider</span></span><br><span class="line">                <span class="comment">// using a time-constant comparer to prevent timing attacks.</span></span><br><span class="line">                <span class="keyword">if</span> (request.Username != <span class="string">"alice@wonderland.com"</span> ||</span><br><span class="line">                    request.Password != <span class="string">"P@ssw0rd"</span>)</span><br><span class="line">                {</span><br><span class="line">                    notification.Context.Reject(</span><br><span class="line">                        error: OpenIdConnectConstants.Errors.InvalidGrant,</span><br><span class="line">                        description: <span class="string">"The specified credentials are invalid."</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Create a new ClaimsIdentity holding the user identity.</span></span><br><span class="line">                <span class="keyword">var</span> identity = <span class="keyword">new</span> ClaimsIdentity(</span><br><span class="line">                    notification.Context.Scheme.Name,</span><br><span class="line">                    OpenIdConnectConstants.Claims.Name,</span><br><span class="line">                    OpenIdConnectConstants.Claims.Role);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Add a "sub" claim containing the user identifier, and attach</span></span><br><span class="line">                <span class="comment">// the "access_token" destination to allow OpenIddict to store it</span></span><br><span class="line">                <span class="comment">// in the access token, so it can be retrieved from your controllers.</span></span><br><span class="line">                identity.AddClaim(OpenIdConnectConstants.Claims.Subject,</span><br><span class="line">                    <span class="string">"71346D62-9BA5-4B6D-9ECA-755574D628D8"</span>,</span><br><span class="line">                    OpenIdConnectConstants.Destinations.AccessToken);</span><br><span class="line"></span><br><span class="line">                identity.AddClaim(OpenIdConnectConstants.Claims.Name, <span class="string">"Alice"</span>,</span><br><span class="line">                    OpenIdConnectConstants.Destinations.AccessToken);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ... add other claims, if necessary.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> principal = <span class="keyword">new</span> ClaimsPrincipal(identity);</span><br><span class="line">                notification.Context.Validate(principal);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">            });</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureServices</span>(<span class="params">IServiceCollection services</span>)</span></span><br><span class="line">{</span><br><span class="line">    services.AddOpenIddict()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict core services.</span></span><br><span class="line">        .AddCore(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict server handler.</span></span><br><span class="line">        .AddServer(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">            options.UseCustomTokenEndpoint();</span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict validation handler.</span></span><br><span class="line">        .AddValidation();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="Extracting-access-tokens-from-the-query-string"><a href="#Extracting-access-tokens-from-the-query-string" class="headerlink" title="Extracting access tokens from the query string"></a>Extracting access tokens from the query string</h3><p>In some cases, flowing the access token in the HTTP request headers is not possible (e.g when using WebSockets with JS clients). To work around these limitations, <strong>you can transfer it as a query string parameter</strong> and configure the OpenIddict validation handler to use your extraction logic by adding an event handler for <code>OpenIddictValidationEvents.RetrieveToken</code>:</p><figure class="highlight csharp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureServices</span>(<span class="params">IServiceCollection services</span>)</span></span><br><span class="line">{</span><br><span class="line">    services.AddOpenIddict()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Register the OpenIddict validation handler.</span></span><br><span class="line">        .AddValidation(options =&gt;</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">            options.AddEventHandler&lt;OpenIddictValidationEvents.RetrieveToken&gt;(</span><br><span class="line">                notification =&gt;</span><br><span class="line">                {</span><br><span class="line">                    notification.Context.Token = notification.Context.Request.Query[<span class="string">"access_token"</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">                });</span><br><span class="line">        });</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2018/07/02/implementing-advanced-scenarios-using-the-new-openiddict-rc3-events-model/" data-id="cm4sob6ne000x1ci2hqrh7f37" class="article-share-link">Share</a> <a href="/2018/07/02/implementing-advanced-scenarios-using-the-new-openiddict-rc3-events-model/#giscus_discussion" class="article-comment-link">Comments</a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/" rel="tag">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/" rel="tag">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/" rel="tag">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/" rel="tag">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/" rel="tag">openid connect</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openiddict/" rel="tag">openiddict</a></li></ul></footer></div><nav id="article-nav"><a href="/2018/08/08/session-fixation-vulnerability-in-the-auth0-asp-net-and-owin-sdks/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">Session fixation vulnerability in the Auth0 ASP.NET and OWIN SDKs</div></a><a href="/2018/06/20/openiddict-rc3-is-out/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">OpenIddict RC3 is out</div></a></nav></article><section id="comments"><div id="giscus_discussion"><script src="https://giscus.app/client.js" data-repo="kevinchalet/kevinchalet.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnk2MTE2NjMwMw==" data-category="General" data-category-id="DIC_kwDOA6VS384CQu8O" data-mapping="og:title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="bottom" data-theme="light" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script></div></section></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">recents</h3><div class="widget"><ul id="recent-post" class="no-thumbnail"><li><div class="item-inner"><p class="item-title"><a href="/2024/12/17/openiddict-6-0-general-availability/" class="title">OpenIddict 6.0 general availability</a></p><p class="item-date"><time datetime="2024-12-17T17:15:00.000Z" itemprop="datePublished">2024-12-17</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2023/12/18/openiddict-5-0-general-availability/" class="title">OpenIddict 5.0 general availability</a></p><p class="item-date"><time datetime="2023-12-18T16:00:00.000Z" itemprop="datePublished">2023-12-18</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2023/10/20/introducing-native-applications-per-client-token-lifetimes-and-client-assertions-support-in-openiddict-5-0-preview1/" class="title">Introducing native applications, per-client token lifetimes and client assertions support in OpenIddict 5.0 preview1</a></p><p class="item-date"><time datetime="2023-10-20T15:30:00.000Z" itemprop="datePublished">2023-10-20</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2023/10/04/can-you-use-the-asp-net-core-identity-api-endpoints-with-openiddict/" class="title">Can you use the ASP.NET Core Identity API endpoints with OpenIddict?</a></p><p class="item-date"><time datetime="2023-10-04T11:00:00.000Z" itemprop="datePublished">2023-10-04</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2023/07/05/connecting-windows-media-center-to-tvheadend-with-hdhrproxyiptv-an-alternative-to-dvblink/" class="title">Connecting Windows Media Center to Tvheadend with HDHRProxyIPTV: an alternative to DVBLink</a></p><p class="item-date"><time datetime="2023-07-05T18:00:00.000Z" itemprop="datePublished">2023-07-05</time></p></div></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/development/">Development</a><span class="category-list-count">45</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/general/">General</a><span class="category-list-count">2</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">tags</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/net/" rel="tag">.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net/" rel="tag">asp.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net-core/" rel="tag">asp.net core</a><span class="tag-list-count">34</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net-core-identity/" rel="tag">asp.net core identity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aspnet-contrib/" rel="tag">aspnet-contrib</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auth0/" rel="tag">auth0</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/authentication/" rel="tag">authentication</a><span class="tag-list-count">40</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/" rel="tag">azure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure-ad/" rel="tag">azure ad</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cms/" rel="tag">cms</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/component-object-model/" rel="tag">component object model</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dvblink/" rel="tag">dvblink</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdhomerun/" rel="tag">hdhomerun</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdhrproxytv/" rel="tag">hdhrproxytv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/identity/" rel="tag">identity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/" rel="tag">jwt</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manifest/" rel="tag">manifest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oauth/" rel="tag">oauth</a><span class="tag-list-count">40</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/okta/" rel="tag">okta</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid/" rel="tag">openid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid-connect/" rel="tag">openid connect</a><span class="tag-list-count">39</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openiddict/" rel="tag">openiddict</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orchard/" rel="tag">orchard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orchardcore/" rel="tag">orchardcore</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/owin/" rel="tag">owin</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/razor/" rel="tag">razor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tls/" rel="tag">tls</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tv/" rel="tag">tv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tvheadend/" rel="tag">tvheadend</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uwp/" rel="tag">uwp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vulnerability/" rel="tag">vulnerability</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-authentication-broker/" rel="tag">web authentication broker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-providers/" rel="tag">web providers</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-10/" rel="tag">windows 10</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-media-center/" rel="tag">windows media center</a><span class="tag-list-count">2</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">9</span></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2016 - 2025 Kévin Chalet<br>Proudly powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with <a href="http://github.com/ppoffice" target="_blank">Ruipeng Zhang</a>'s <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus theme</a> and <a href="https://www.flickr.com/photos/madison_slater/" target="_blank">Madison Slater</a>'s <a href="https://www.flickr.com/photos/madison_slater/11299339856/" target="_blank">photos</a>.</div></div></footer><script src="/js/jquery.js"></script><script src="/js/script.js"></script></div></body></html>