<!DOCTYPE html><html><head><meta charset="utf-8"><title>Creating your own OpenID Connect server with ASOS: introduction | Kévin Chalet&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="Learn how you can create your own OpenID Connect server using ASOS in 7 steps."><meta property="og:type" content="article"><meta property="og:title" content="Creating your own OpenID Connect server with ASOS: introduction"><meta property="og:url" content="http://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/index.html"><meta property="og:site_name" content="Kévin Chalet's blog"><meta property="og:description" content="Learn how you can create your own OpenID Connect server using ASOS in 7 steps."><meta property="og:updated_time" content="2016-08-24T22:17:15.321Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Creating your own OpenID Connect server with ASOS: introduction"><meta name="twitter:description" content="Learn how you can create your own OpenID Connect server using ASOS in 7 steps."><meta name="twitter:creator" content="@PinpointTownes"><link rel="icon" href="/css/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-79360312-1","auto"),ga("send","pageview")</script></head></html><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><span class="site-title">Kévin Chalet&#39;s blog</span></a><nav id="main-nav"><a class="main-nav-link" href="/.">Home</a> <a class="main-nav-link" href="/archives">Archives</a></nav><nav id="sub-nav"><div class="profile" id="profile-nav"><a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://avatars3.githubusercontent.com/u/6998306?v=3&amp;s=460"><i class="fa fa-caret-down"></i></a></div></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"></button><input type="hidden" name="sitesearch" value="http://kevinchalet.com"></form></div></div></div></header><div class="outer"><aside id="profile"><div class="inner profile-inner"><div class="base-info profile-block"><img id="avatar" src="https://avatars3.githubusercontent.com/u/6998306?v=3&amp;s=460"><h2 id="name">Kévin Chalet</h2><h3 id="title">.NET-holic and OpenID-addict MVP in the wild.</h3><span id="location"><i class="fa fa-map-marker"></i>France</span> <a id="follow" href="https://twitter.com/intent/user?screen_name=PinpointTownes"><i class="fa fa-twitter fa-lg"></i> Follow me on Twitter</a></div><div class="article-info profile-block"><div class="article-info-block">12 <span>posts</span></div><div class="article-info-block">10 <span>tags</span></div></div><div class="contact-info profile-block"><table class="contact-list"><tr><td><a href="mailto:contact@kevinchalet.com" title="Email"><i class="fa fa-envelope"></i></a></td><td><a href="https://github.com/PinpointTownes" title="GitHub"><i class="fa fa-github"></i></a></td><td><a href="https://twitter.com/PinpointTownes" title="Twitter"><i class="fa fa-twitter"></i></a></td><td><a href="http://stackoverflow.com/users/542757/pinpoint" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a></td><td><a href="https://mvp.microsoft.com/fr-fr/PublicProfile/5001682" title="Microsoft MVP"><i class="fa fa-windows"></i></a></td><td><a href="/atom.xml" title="RSS"><i class="fa fa-rss"></i></a></td></tr></table></div></div></aside><section id="main"><article id="post-creating-your-own-openid-connect-server-with-asos-introduction" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Creating your own OpenID Connect server with ASOS: introduction</h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/"><time datetime="2016-07-13T15:00:00.000Z" itemprop="datePublished">2016-07-13</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><div class="note tip"><p>This post is the first part of a series of blog posts entitled <strong>Creating your own OpenID Connect server with ASOS</strong>:</p><ol><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" title="Introduction">Introduction</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" title="Conclusion">Conclusion</a></li></ol></div><h2 id="What-39-s-ASOS"><a href="#What-39-s-ASOS" class="headerlink" title="What&#39;s ASOS?"></a>What&#39;s ASOS?</h2><p><a href="https://github.com/aspnet-contrib/AspNet.Security.OpenIdConnect.Server" target="_blank" rel="external">AspNet.Security.OpenIdConnect.Server (codenamed ASOS)</a> is an open-source <strong>OAuth2/OpenID Connect server middleware for OWIN/Katana and ASP.NET Core 1.0</strong> (previously known as ASP.NET 5), designed to work on both the full .NET desktop framework and the new .NET Core platform. It is part of the <a href="https://github.com/aspnet-contrib" target="_blank" rel="external">aspnet-contrib initiative</a>, that&#39;s also behind <a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers" target="_blank" rel="external">the OAuth2 social providers for ASP.NET Core</a>.</p><p>Forked from Katana&#39;s <a href="http://stackoverflow.com/a/29144031/542757" target="_blank" rel="external">now deprecated OAuth2 authorization server middleware</a>, ASOS shares the same <strong>same low-level, protocol-first approach</strong> but comes with many new OpenID Connect features (e.g <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata" target="_blank" rel="external">provider configuration discovery</a>, <a href="https://openid.net/specs/openid-connect-session-1_0.html#RPLogout" target="_blank" rel="external">client-initiated logout</a> or <a href="http://openid.net/specs/openid-connect-core-1_0.html#UserInfo" target="_blank" rel="external">userinfo support</a>) and implements some of the recent OAuth2 specifications like <a href="https://tools.ietf.org/html/rfc7009" target="_blank" rel="external">token revocation</a> or <a href="https://tools.ietf.org/html/rfc7662" target="_blank" rel="external">token introspection</a> (kudos to <a href="https://github.com/MonkeyJamboree" target="_blank" rel="external">Michael Ciarlillo</a> for his great contribution!).</p><hr><h2 id="How-is-it-different-from-the-other-identity-servers"><a href="#How-is-it-different-from-the-other-identity-servers" class="headerlink" title="How is it different from the other identity servers?"></a>How is it different from the other identity servers?</h2><p>Unlike other identity server projects, <strong>ASOS only focuses on the OAuth2/OpenID Connect protocol part</strong> and acts as a thin layer between your application and the protocol details: it comes with no membership feature, implementing the consent pages is left as an exercise and adding a CORS policy must be done by the developer depending on his/her own needs.</p><p>Though it requires a <strong>solid knowledge of the OAuth2/OpenID Connect specifications</strong> and generally needs more work than turnkey solutions (like the famous <a href="https://github.com/IdentityServer/IdentityServer3" target="_blank" rel="external">IdentityServer</a> or <a href="https://github.com/openiddict/openiddict-core" target="_blank" rel="external">OpenIddict</a>), ASOS offers the most flexible approach and can be easily integrated to any existing environment.</p><a id="more"></a><hr><h2 id="Is-ASOS-the-right-tool-for-me"><a href="#Is-ASOS-the-right-tool-for-me" class="headerlink" title="Is ASOS the right tool for me?"></a>Is ASOS the right tool for me?</h2><p>If you&#39;re not comfortable at all with how OAuth2 or OpenID Connect work in general, then no, ASOS is probably not for you. Like <code>OAuthAuthorizationServerMiddleware</code>, ASOS has been designed as a low-level framework rather than as a ready-to-use server: <strong>you can&#39;t use it without providing your own authorization logic or without implementing the different flows you want to support</strong>.</p><p>Of course, ASOS handles most of the protocols details for you (e.g request validation, provider discovery, token serialization/deserialization), so the effort needed to implement the missing parts is actually limited to very precise things like client authentication or consent form pages: you don&#39;t need to be a security expert to use ASOS.</p><hr><h2 id="What-about-OpenIddict"><a href="#What-about-OpenIddict" class="headerlink" title="What about OpenIddict?"></a>What about OpenIddict?</h2><p>Based on ASOS and ASP.NET Core Identity, <a href="https://github.com/openiddict/openiddict-core" target="_blank" rel="external">OpenIddict</a> is <strong>a whole new turnkey server designed to offer a simple solution</strong> to most token authentication scenarios. It natively supports all the OAuth2/OpenID Connect non-interactive flows and interactive flows like implicit can be easily implemented by adding a tiny <code>AuthorizationController</code> MVC controller in your application, similarly to the approach used by ASP.NET Core Identity with its <code>AccountController</code>.</p><p>Though still at an early stage, OpenIddict is probably your best option if you&#39;re looking for a simple/easy-to-use server, that easily integrates with the rest of your ASP.NET Core application. Conversely, <strong>if you think you need more flexibility</strong> or <strong>if you want to have full control</strong> over the entire OpenID Connect process, then ASOS is definitely for you.</p><p>For more information about OpenIddict, don&#39;t miss the great blog posts written by <a href="http://capesean.co.za/" target="_blank" rel="external">Sean Walsh</a>, <a href="http://overengineer.net/" target="_blank" rel="external">Josh Comley</a> and <a href="http://kerryritter.com/" target="_blank" rel="external">Kerry Ritter</a>:</p><ul><li><a href="http://capesean.co.za/blog/asp-net-5-jwt-tokens/" target="_blank" rel="external">Setting up ASP.NET v5 (vNext) to use JWT tokens (using OpenIddict)</a></li><li><a href="http://overengineer.net/Using-OpenIddict-to-easily-add-token-authentication-to-your-.NET-web-apps" target="_blank" rel="external">Using OpenIddict to easily add token authentication to your .NET web apps</a></li><li><a href="http://kerryritter.com/authorizing-your-net-core-mvc6-api-requests-with-openiddict-and-identity/" target="_blank" rel="external">Authorizing your .NET Core MVC6 API requests with OpenIddict and Identity</a></li></ul><hr><h2 id="How-is-this-blog-posts-series-organized"><a href="#How-is-this-blog-posts-series-organized" class="headerlink" title="How is this blog posts series organized?"></a>How is this blog posts series organized?</h2><p>For better readability, this series was split into 7 posts – from the most general to the most specific – and will almost exclusively cover the server-side aspects of building your authorization server based on ASOS (the client-side part will be covered in a future series):</p><ul><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li></ul><hr><p>Next part: <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a>.</p></div><footer class="article-footer"><a data-url="http://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" data-id="cizlph2vx0009bgi27aec1z07" class="article-share-link">Share</a> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li></ul></footer></div><nav id="article-nav"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">Creating your own OpenID Connect server with ASOS: choosing the right flow(s)</div></a></nav></article><section id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">recents</h3><div class="widget"><ul id="recent-post" class="no-thumbnail"><li><div class="item-inner"><p class="item-title"><a href="/2017/01/30/implementing-simple-token-authentication-in-aspnet-core-with-openiddict/" class="title">Implementing simple token authentication in ASP.NET Core with OpenIddict</a></p><p class="item-date"><time datetime="2017-01-30T18:00:00.000Z" itemprop="datePublished">2017-01-30</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2016/11/30/the-new-aspnet-contrib-packages-are-out/" class="title">The new aspnet-contrib packages are out</a></p><p class="item-date"><time datetime="2016-11-30T20:00:00.000Z" itemprop="datePublished">2016-11-30</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2016/08/22/using-a-local-oauth2-openid-connect-server-with-webauthenticationbroker/" class="title">Using a local OAuth2/OpenID Connect server with WebAuthenticationBroker</a></p><p class="item-date"><time datetime="2016-08-22T14:30:00.000Z" itemprop="datePublished">2016-08-22</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" class="title">Creating your own OpenID Connect server with ASOS: conclusion</a></p><p class="item-date"><time datetime="2016-07-13T17:00:00.000Z" itemprop="datePublished">2016-07-13</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" class="title">Creating your own OpenID Connect server with ASOS: testing your authorization server with Postman</a></p><p class="item-date"><time datetime="2016-07-13T16:45:00.000Z" itemprop="datePublished">2016-07-13</time></p></div></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/development/">Development</a><span class="category-list-count">12</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">tags</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net-core/">asp.net core</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/authentication/">authentication</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/">jwt</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oauth/">oauth</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid-connect/">openid connect</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openiddict/">openiddict</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uwp/">uwp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-authentication-broker/">web authentication broker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-10/">windows 10</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">9</span></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2016 - 2017 Kévin Chalet<br>Proudly powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with <a href="http://github.com/ppoffice" target="_blank">Ruipeng Zhang</a>'s <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus theme</a> and <a href="https://www.flickr.com/photos/madison_slater/" target="_blank">Madison Slater</a>'s <a href="https://www.flickr.com/photos/madison_slater/11299339856/" target="_blank">photos</a>.</div></div></footer><script>var disqus_shortname="kevinchalet";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script src="/js/jquery.js"></script><script src="/js/script.js"></script></div></body>