<!DOCTYPE html><html><head><meta charset="utf-8"><title>Kévin Chalet&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:type" content="website"><meta property="og:title" content="Kévin Chalet's blog"><meta property="og:url" content="https://kevinchalet.com/page/6/index.html"><meta property="og:site_name" content="Kévin Chalet's blog"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Kévin Chalet's blog"><meta name="twitter:creator" content="@kevin_chalet"><link rel="icon" href="/css/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-79360312-1","auto"),ga("send","pageview")</script></head></html><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><span class="site-title">Kévin Chalet&#39;s blog</span></a><nav id="main-nav"><a class="main-nav-link" href="/.">Home</a> <a class="main-nav-link" href="/archives/">Archives</a></nav><nav id="sub-nav"><div class="profile" id="profile-nav"><a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://kevinchalet.com/assets/photo.png"><i class="fa fa-caret-down"></i></a></div></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"></button><input type="hidden" name="sitesearch" value="https://kevinchalet.com"></form></div></div></div></header><div class="outer"><aside id="profile"><div class="inner profile-inner"><div class="base-info profile-block"><img id="avatar" src="https://kevinchalet.com/assets/photo.png"><h2 id="name">Kévin Chalet</h2><h3 id="title">.NET-holic and OpenID-addict MVP in the wild.</h3><span id="location"><i class="fa fa-map-marker"></i>France</span> <a id="follow" href="https://twitter.com/intent/user?screen_name=kevin_chalet"><i class="fa fa-twitter fa-lg"></i> Follow me on Twitter</a></div><div class="article-info profile-block"><div class="article-info-block">31 <span>posts</span></div><div class="article-info-block">23 <span>tags</span></div></div><div class="contact-info profile-block"><table class="contact-list"><tr><td><a href="mailto:contact@kevinchalet.com" title="Email"><i class="fa fa-envelope"></i></a></td><td><a href="https://www.linkedin.com/in/kevinchalet/" title="LinkedIn"><i class="fa fa-linkedin"></i></a></td><td><a href="https://github.com/kevinchalet" title="GitHub"><i class="fa fa-github"></i></a></td><td><a href="https://twitter.com/kevin_chalet" title="Twitter"><i class="fa fa-twitter"></i></a></td><td><a href="https://stackoverflow.com/users/542757/k%c3%a9vin-chalet" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a></td><td><a href="https://mvp.microsoft.com/fr-fr/PublicProfile/5001682" title="Microsoft MVP"><i class="fa fa-windows"></i></a></td><td><a href="/atom.xml" title="RSS"><i class="fa fa-rss"></i></a></td></tr></table></div></div></aside><section id="main"><article id="post-creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/">Creating your own OpenID Connect server with ASOS: implementing the authorization code and implicit flows</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/"><time datetime="2016-07-13T16:15:00.000Z" itemprop="datePublished">2016-07-13</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><div class="note tip"><p>This post is the sixth part of a series of blog posts entitled <strong>Creating your own OpenID Connect server with ASOS</strong>:</p><ol><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" title="Introduction">Introduction</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" title="Conclusion">Conclusion</a></li></ol></div><p>To support interactive flows like the authorization code or the implicit flows, the <code>ValidateAuthorizationRequest</code> event must be implemented to validate <a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">the authorization request</a> sent by the client application.</p><hr><h2 id="Implementing-ValidateAuthorizationRequest-to-validate-response-type-client-id-and-redirect-uri"><a href="#Implementing-ValidateAuthorizationRequest-to-validate-response-type-client-id-and-redirect-uri" class="headerlink" title="Implementing ValidateAuthorizationRequest to validate response_type, client_id and redirect_uri"></a>Implementing <code>ValidateAuthorizationRequest</code> to validate <code>response_type</code>, <code>client_id</code> and <code>redirect_uri</code></h2><p>To support interactive flows, you must implement <code>ValidateAuthorizationRequest</code> to validate the <code>client_id</code> and the <code>redirect_uri</code> parameters provided by the client application to ensure they correspond to a registered client.</p><p>Ideally, the <code>response_type</code> parameter should also be validated to ensure that a <code>client_id</code> corresponding to a confidential application cannot be used with the implicit/hybrid flow to prevent <a href="http://homakov.blogspot.com/2012/08/saferweb-oauth2a-or-lets-just-fix-it.html">downgrade attacks</a>.</p><div class="note tip"><p>In pure OAuth2, <code>redirect_uri</code> was not mandatory but is now required by the OpenID Connect specification. To support legacy clients, ASOS doesn&#39;t reject authorization requests missing the <code>redirect_uri</code> parameter if the <code>openid</code> scope is not present, but in this case, it&#39;s up to you to call <code>context.Validate(...)</code> with the <code>redirect_uri</code> the user agent should be redirected to. If you don&#39;t need to support such clients, <strong>consider rejecting the authorization requests that don&#39;t specify a <code>redirect_uri</code></strong>.</p></div><div class="note warn"><p>While the <a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">OpenID Connect specification explicitly states</a> that <strong>the <code>redirect_uri</code> MUST exactly match one of the callback URLs associated with the client application</strong>, you&#39;re actually free to implement a relaxed comparison policy to support advanced scenarios (e.g domain-only/subdomain comparison or wildcard support): <strong>use this ability with extreme caution to avoid introducing an <a href="http://cwe.mitre.org/data/definitions/601.html">open redirect vulnerability</a></strong>.</p></div><p>Nothing surprising: the exact implementation of <code>ValidateAuthorizationRequest</code> will depend on the flows you want to support (e.g authorization code/implicit/hybrid) and on how you store your application details (e.g hardcoded or in a database).</p><p class="article-more-link"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" data-id="ckdot3x4i0005ugt9go45pf2c" class="article-share-link">Share</a> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li></ul></footer></div></article><article id="post-creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/">Creating your own OpenID Connect server with ASOS: implementing the resource owner password credentials grant</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/"><time datetime="2016-07-13T16:00:00.000Z" itemprop="datePublished">2016-07-13</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><div class="note tip"><p>This post is the fifth part of a series of blog posts entitled <strong>Creating your own OpenID Connect server with ASOS</strong>:</p><ol><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" title="Introduction">Introduction</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" title="Conclusion">Conclusion</a></li></ol></div><p>Implementing the resource owner password credentials grant (abbreviated <code>ROPC</code> for brevity) is quite easy with ASOS as the only thing you have to do is to provide your own implementation of <code>ValidateTokenRequest</code> and <code>HandleTokenRequest</code>.</p><p>But to properly implement these events, you first need to determine what&#39;s the best client authentication policy for your application.</p><hr><h2 id="Implementing-ValidateTokenRequest-to-validate-the-grant-type-and-the-client-application-credentials"><a href="#Implementing-ValidateTokenRequest-to-validate-the-grant-type-and-the-client-application-credentials" class="headerlink" title="Implementing ValidateTokenRequest to validate the grant type and the client application credentials"></a>Implementing <code>ValidateTokenRequest</code> to validate the grant type and the client application credentials</h2><p>When implementing flows using backchannel communication (i.e resource owner password credentials grant, client credentials grant, authorization code flow or refresh token grant), the <code>ValidateTokenRequest</code> event must be overridden to validate the token request.</p><p>So, what are you supposed to validate in this event? Mainly two things:</p><ul><li><strong>The grant type</strong>: in most cases, you&#39;ll likely want to restrict the grants a client application is allowed to use (e.g resource owner password credentials only): <code>ValidateTokenRequest</code> is the best place for that.</li></ul><div class="note info"><p>It should be noted that ASOS doesn&#39;t validate the <code>grant_type</code> value, <a href="https://tools.ietf.org/html/rfc6749#section-4.5">that can even contain a custom value for extension grants</a>: if you only want to support standard grants, it&#39;s up to you to reject the token request by calling <code>context.Reject()</code>.</p><p><code>IsAuthorizationCodeGrantType()</code>, <code>IsRefreshTokenGrantType()</code>, <code>IsPasswordGrantType()</code> and <code>IsClientCredentialsGrantType()</code> can be used for this exact purpose.</p></div><ul><li><strong>The client credentials</strong> (<code>client_id</code>/<code>client_secret</code>): the OAuth2 specification explicitly states <strong>that confidential applications</strong> (i.e applications that are able to keep their credentials secret, like server-side apps) <strong>must authenticate when using the token endpoint</strong>. This security measure is extremely important as it&#39;s the only way to prevent malicious applications from retrieving an access token on behalf of a legitimate confidential application.</li></ul><div class="note info"><p>Contrary to popular belief, client authentication is never mandatory when using the token endpoint (except for the client credentials grant), which means that <strong>public applications like JS or mobile apps are allowed to use the resource owner password grant without having to send their credentials</strong>.</p><p>In practice, it&#39;s up to you to decide whether your token endpoint should accept unauthenticated requests or not, depending on the type of client you&#39;ll use.</p></div><p class="article-more-link"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" data-id="ckdot3x4s0009ugt9sbajnj86" class="article-share-link">Share</a> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li></ul></footer></div></article><article id="post-creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/">Creating your own OpenID Connect server with ASOS: creating your own authorization provider</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/"><time datetime="2016-07-13T15:45:00.000Z" itemprop="datePublished">2016-07-13</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><div class="note tip"><p>This post is the fourth part of a series of blog posts entitled <strong>Creating your own OpenID Connect server with ASOS</strong>:</p><ol><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" title="Introduction">Introduction</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" title="Conclusion">Conclusion</a></li></ol></div><p><strong>ASOS leverages the same events model as the rest of the ASP.NET Core security stack</strong>: often hard to understand for beginners, this pattern (inherited from OWIN/Katana) proved to be extremely powerful by offering full flexibility on the request processing.</p><p>To help make things clearer before trying to implement a concrete flow, here&#39;s a quick overview of how it works with ASOS:</p><hr><h2 id="OpenIdConnectServerProvider-and-the-events-model"><a href="#OpenIdConnectServerProvider-and-the-events-model" class="headerlink" title="OpenIdConnectServerProvider and the events model"></a><code>OpenIdConnectServerProvider</code> and the events model</h2><p><code>OpenIdConnectServerProvider</code> is ASOS&#39; main extensibility hook: its methods (named events or notifications) are invoked by <code>OpenIdConnectServerHandler</code> for every OpenID Connect request to give you a chance to control how the request is handled. Depending on the flows you want to support, you&#39;ll need to implement different events.</p><p><strong>You have 2 options to create your own provider</strong>:</p><ul><li>Directly instantiante an <code>OpenIdConnectServerProvider</code> and use inline delegates. This approach is perfect when implementing a simple server that mainly relies on hardcoded values.</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">app.UseOpenIdConnectServer(options =&gt;</div><div class="line">&#123;</div><div class="line">    options.Provider = <span class="keyword">new</span> OpenIdConnectServerProvider</div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Implement OnValidateAuthorizationRequest to</span></div><div class="line">        <span class="comment">// support interactive flows (code/implicit/hybrid).</span></div><div class="line">        OnValidateAuthorizationRequest = <span class="keyword">async</span> context =&gt; &#123; ... &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// Implement OnValidateTokenRequest to support flows using the token endpoint</span></div><div class="line">        <span class="comment">// (code/refresh token/password/client credentials/custom grant).</span></div><div class="line">        OnValidateTokenRequest = <span class="keyword">async</span> context =&gt; &#123; ... &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>You can also directly set the events properties without having to manually instantiate a <code>OpenIdConnectServerProvider</code>, as ASOS always registers a default <code>OpenIdConnectServerProvider</code> instance for you:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">app.UseOpenIdConnectServer(options =&gt;</div><div class="line">&#123;</div><div class="line">    <span class="comment">// Implement OnValidateAuthorizationRequest to</span></div><div class="line">    <span class="comment">// support interactive flows (code/implicit/hybrid).</span></div><div class="line">    options.Provider.OnValidateAuthorizationRequest = <span class="keyword">async</span> context =&gt; &#123; ... &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Implement OnValidateTokenRequest to support flows using the token endpoint</span></div><div class="line">    <span class="comment">// (code/refresh token/password/client credentials/custom grant).</span></div><div class="line">    options.Provider.OnValidateTokenRequest = <span class="keyword">async</span> context =&gt; &#123; ... &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><ul><li>Create your own subclass of <code>OpenIdConnectServerProvider</code> and override the virtual methods you want to implement. This is clearly the best approach when implementing a more complex authorization server.</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">AuthorizationProvider</span> : <span class="title">OpenIdConnectServerProvider</span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// Implement OnValidateAuthorizationRequest to support interactive flows (code/implicit/hybrid).</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">async</span> Task <span class="title">ValidateAuthorizationRequest</span>(<span class="params">ValidateAuthorizationRequestContext context</span>) </span>&#123; ... &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Implement OnValidateTokenRequest to support flows using the token endpoint</span></div><div class="line">    <span class="comment">// (code/refresh token/password/client credentials/custom grant).</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">async</span> Task <span class="title">ValidateTokenRequest</span>(<span class="params">ValidateTokenRequestContext context</span>) </span>&#123; ... &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.UseOpenIdConnectServer(options =&gt;</div><div class="line">&#123;</div><div class="line">    options.Provider = <span class="keyword">new</span> AuthorizationProvider();</div><div class="line">&#125;);</div></pre></td></tr></table></figure><div class="note info"><p>It&#39;s important to note that the authorization provider is always a singleton: <strong>don&#39;t try to inject scoped dependencies in its constructor</strong>. To resolve scoped dependencies (e.g an Entity Framework <code>DbContext</code>), use the <code>context.HttpContext.RequestServices</code> property to access the scoped container.</p><p>You can read <a href="https://github.com/aspnet/Options/issues/11">this thread</a> for more information about this limitation/design choice, which is not specific to ASOS and impacts all the security middleware sharing the same events model. It might be <a href="https://github.com/aspnet-contrib/AspNet.Security.OpenIdConnect.Server/issues/275">fixed in a future version</a>, though.</p></div><p class="article-more-link"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" data-id="ckdot3x4m0006ugt9lcib79rr" class="article-share-link">Share</a> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li></ul></footer></div></article><article id="post-creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/">Creating your own OpenID Connect server with ASOS: registering the middleware in the ASP.NET Core pipeline</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/"><time datetime="2016-07-13T15:30:00.000Z" itemprop="datePublished">2016-07-13</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><div class="note tip"><p>This post is the third part of a series of blog posts entitled <strong>Creating your own OpenID Connect server with ASOS</strong>:</p><ol><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" title="Introduction">Introduction</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" title="Conclusion">Conclusion</a></li></ol></div><p>In the previous post (<a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a>), we saw the differences between the various OAuth2/OpenID Connect flows. In this one, we&#39;ll see how to reference the ASOS package and how to register it in the ASP.NET Core pipeline.</p><hr><h3 id="Referencing-the-OpenID-Connect-server-middleware-package"><a href="#Referencing-the-OpenID-Connect-server-middleware-package" class="headerlink" title="Referencing the OpenID Connect server middleware package"></a>Referencing the OpenID Connect server middleware package</h3><div class="note info"><p><strong>This post was updated to reflect the latest changes introduced in the 1.0.0 RTM version of ASOS</strong>.</p></div><p>To reference ASOS, simply add <code>&quot;AspNet.Security.OpenIdConnect.Server&quot;: &quot;1.0.0&quot;</code> under the <code>dependencies</code> node of your <code>.csproj</code> file:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">"Microsoft.NET.Sdk.Web"</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">"AspNet.Security.OpenIdConnect.Server"</span> <span class="attr">Version</span>=<span class="string">"1.0.0"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></div></pre></td></tr></table></figure><hr><h3 id="Referencing-the-OAuth2-validation-middleware"><a href="#Referencing-the-OAuth2-validation-middleware" class="headerlink" title="Referencing the OAuth2 validation middleware"></a>Referencing the OAuth2 validation middleware</h3><p>You&#39;ll also need to add the validation middleware, <strong>in charge of verifying/decrypting the tokens produced by ASOS</strong> and protecting your API endpoints:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">"Microsoft.NET.Sdk.Web"</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">"AspNet.Security.OAuth.Validation"</span> <span class="attr">Version</span>=<span class="string">"1.0.0"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></div></pre></td></tr></table></figure><p>The <a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Extensions/tree/master/src/AspNet.Security.OAuth.Validation">validation middleware</a> is similar to the JWT bearer middleware developed by the ASP.NET team but was specifically designed to use the encrypted tokens issued by ASOS and to <strong>offer a much easier experience</strong> (it doesn&#39;t require any explicit configuration by default).</p><div class="note tip"><p>Starting with ASOS beta5, <a href="https://github.com/aspnet-contrib/AspNet.Security.OpenIdConnect.Server/issues/185">JWT is no longer the default format for access tokens</a>, but is still supported natively. To use JWT tokens instead of opaque/encrypted tokens, follow the steps below:</p><ul><li>Remove the reference to <code>AspNet.Security.OAuth.Validation</code> in <code>project.json</code>.</li><li>Remove the validation middleware registration (<code>app.UseOAuthValidation()</code>),</li><li>Reference the <code>Microsoft.AspNetCore.Authentication.JwtBearer</code> package.</li><li>Register the JWT middleware using <code>app.UseJwtBearerAuthentication()</code>.</li><li>Assign <code>options.AccessTokenHandler = new JwtSecurityTokenHandler()</code> to override the default format.</li></ul></div><p class="article-more-link"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" data-id="ckdot3x51000fugt91yq83axj" class="article-share-link">Share</a> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li></ul></footer></div></article><article id="post-creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/">Creating your own OpenID Connect server with ASOS: choosing the right flow(s)</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/"><time datetime="2016-07-13T15:15:00.000Z" itemprop="datePublished">2016-07-13</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><div class="note tip"><p>This post is the second part of a series of blog posts entitled <strong>Creating your own OpenID Connect server with ASOS</strong>:</p><ol><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-introduction/" title="Introduction">Introduction</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" title="Choosing the right flow(s)">Choosing the right flow(s)</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-registering-the-middleware-in-the-asp-net-core-pipeline/" title="Registering the middleware in the ASP.NET Core pipeline">Registering the middleware in the ASP.NET Core pipeline</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-creating-your-own-authorization-provider/" title="Creating your own authorization provider">Creating your own authorization provider</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-resource-owner-password-credentials-grant/" title="Implementing the resource owner password credentials grant">Implementing the resource owner password credentials grant</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-implementing-the-authorization-code-and-implicit-flows/" title="Implementing the authorization code and implicit flows">Implementing the authorization code and implicit flows</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-adding-custom-claims-and-granting-scopes/" title="Adding custom claims and granting scopes">Adding custom claims and granting scopes</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-testing-your-authorization-server-with-postman/" title="Testing your authorization server with Postman">Testing your authorization server with Postman</a></li><li><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-conclusion/" title="Conclusion">Conclusion</a></li></ol></div><p>ASOS offers built-in support for all the standard flows defined by the <a href="https://tools.ietf.org/html/rfc6749">OAuth2</a> and <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect</a> core specifications: <a href="http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth">the authorization code flow</a>, <a href="http://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth">the implicit flow</a>, <a href="http://openid.net/specs/openid-connect-core-1_0.html#HybridFlowAuth">the hybrid flow</a> (which is basically a mix between the first two flows), <a href="https://tools.ietf.org/html/rfc6749#section-4.3">the resource owner password credentials grant</a> and <a href="https://tools.ietf.org/html/rfc6749#section-4.4">the client credentials grant</a>.</p><p>Though not specific to ASOS, choosing the best flow(s) for your application is an <strong>important prerequisite</strong> when implementing your own authorization server ; so here&#39;s a quick overview of the different OAuth2/OpenID Connect flows:</p><hr><h2 id="Non-interactive-flows"><a href="#Non-interactive-flows" class="headerlink" title="Non-interactive flows"></a>Non-interactive flows</h2><h3 id="Resource-owner-password-credentials-flow"><a href="#Resource-owner-password-credentials-flow" class="headerlink" title="Resource owner password credentials flow"></a>Resource owner password credentials flow</h3><p>Directly inspired by <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">basic authentication</a>, the resource owner password credentials grant (abbreviated <em>ROPC</em>) is probably <strong>the simplest OAuth2 flow</strong>: the client application asks the user his username/password, sends a token request to the authorization server with the user credentials (and depending on the client authentication policy defined by the authorization server, its own client credentials) and gets back an access token it can use to retrieve the user&#39;s resources.</p><img src="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/resource-owner-password-flow.png" alt="resource-owner-password-flow.png"><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">POST</span> <span class="string">/connect/token</span> HTTP/1.1</div><div class="line"><span class="attribute">Host</span>: server.example.com</div><div class="line"><span class="attribute">Content-Type</span>: application/x-www-form-urlencoded</div><div class="line"></div><div class="line"><span class="undefined">grant_type=password&amp;username=johndoe&amp;password=A3ddj3w</span></div></pre></td></tr></table></figure><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 <span class="number">200</span> OK</div><div class="line"><span class="attribute">Content-Type</span>: application/json;charset=UTF-8</div><div class="line"><span class="attribute">Cache-Control</span>: no-store</div><div class="line"><span class="attribute">Pragma</span>: no-cache</div><div class="line"></div><div class="line"><span class="cs">&#123;</span></div><div class="line">  <span class="string">"access_token"</span>:<span class="string">"2YotnFZFEjr1zCsicMWpAA"</span>,</div><div class="line">  <span class="string">"token_type"</span>:<span class="string">"bearer"</span>,</div><div class="line">  <span class="string">"expires_in"</span>:<span class="number">3600</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>Though <strong>not recommended by the OAuth2 specification</strong> as it&#39;s the only flow where <strong>the user password is directly exposed to the client application</strong> (which breaks the principle of least privilege), the resource owner password credentials grant is one of the most popular flows.</p><p>It is is particularly appreciated by SPA writers as it&#39;s trivial to implement in vanilla JavaScript, doesn&#39;t involve any redirection or consent form and, unlike interactive flows, doesn&#39;t require implementing token validation or cross-site request forgery (XSRF) countermeasures to prevent session fixation attacks.</p><div class="note tip"><p>If you don&#39;t feel comfortable with the other flows (and the security measures they require on the client-side), using ROPC might be a good option: <strong>paradoxically, a client application using ROPC will be far less vulnerable than a client using interactive flows without implementing the appropriate security checks.</strong></p></div><div class="note warn"><p><a href="https://tools.ietf.org/html/rfc6749#section-4.3">As recommended by the OAuth2 specification</a>, <strong>you SHOULD NEVER use it with third-party applications</strong>. If you want to support applications you don&#39;t <strong>fully trust</strong>, consider using an interactive flow instead (e.g authorization code or implicit flow).</p></div><p class="article-more-link"><a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/" data-id="ckdot3x4f0004ugt9otkf0seh" class="article-share-link">Share</a> <a href="/2016/07/13/creating-your-own-openid-connect-server-with-asos-choosing-the-right-flows/#disqus_thread" class="article-comment-link">Comments</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li></ul></footer></div></article><nav id="page-nav"><a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">Next &raquo;</a></nav></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">recents</h3><div class="widget"><ul id="recent-post" class="no-thumbnail"><li><div class="item-inner"><p class="item-title"><a href="/2020/08/03/introducing-localization-support-in-openiddict-3-0-beta3/" class="title">Introducing localization support in OpenIddict 3.0 beta3</a></p><p class="item-date"><time datetime="2020-08-03T17:30:00.000Z" itemprop="datePublished">2020-08-03</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/07/08/openiddict-3-0-beta2-is-out/" class="title">OpenIddict 3.0 beta2 is out</a></p><p class="item-date"><time datetime="2020-07-08T17:30:00.000Z" itemprop="datePublished">2020-07-08</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/06/11/introducing-openiddict-3-0-beta1/" class="title">Introducing OpenIddict 3.0 beta1</a></p><p class="item-date"><time datetime="2020-06-11T19:00:00.000Z" itemprop="datePublished">2020-06-11</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/03/03/adding-openiddict-3-0-to-an-owin-application/" class="title">Adding OpenIddict 3.0 to an OWIN application</a></p><p class="item-date"><time datetime="2020-03-03T18:00:00.000Z" itemprop="datePublished">2020-03-03</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/02/18/creating-an-openid-connect-server-proxy-with-openiddict-3-0-s-degraded-mode/" class="title">Creating an OpenID Connect server proxy with OpenIddict 3.0&#39;s degraded mode</a></p><p class="item-date"><time datetime="2020-02-18T15:30:00.000Z" itemprop="datePublished">2020-02-18</time></p></div></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/development/">Development</a><span class="category-list-count">25</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">tags</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/net/">.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net/">asp.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net-core/">asp.net core</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auth0/">auth0</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/authentication/">authentication</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/">azure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/component-object-model/">component object model</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/">jwt</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manifest/">manifest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oauth/">oauth</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid/">openid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid-connect/">openid connect</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openiddict/">openiddict</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/owin/">owin</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/razor/">razor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tls/">tls</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uwp/">uwp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vulnerability/">vulnerability</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-authentication-broker/">web authentication broker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/">windows</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-10/">windows 10</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-media-center/">windows media center</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">9</span></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2016 - 2020 Kévin Chalet<br>Proudly powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with <a href="http://github.com/ppoffice" target="_blank">Ruipeng Zhang</a>'s <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus theme</a> and <a href="https://www.flickr.com/photos/madison_slater/" target="_blank">Madison Slater</a>'s <a href="https://www.flickr.com/photos/madison_slater/11299339856/" target="_blank">photos</a>.</div></div></footer><script>var disqus_shortname="kevinchalet";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script src="/js/jquery.js"></script><script src="/js/script.js"></script></div></body>