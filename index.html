<!DOCTYPE html><html><head><meta charset="utf-8"><title>Kévin Chalet&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:type" content="website"><meta property="og:title" content="Kévin Chalet's blog"><meta property="og:url" content="https://kevinchalet.com/index.html"><meta property="og:site_name" content="Kévin Chalet's blog"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Kévin Chalet's blog"><meta name="twitter:creator" content="@kevin_chalet"><link rel="icon" href="/css/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-79360312-1","auto"),ga("send","pageview")</script></head></html><body><div id="container"><header id="header"><div id="header-main" class="header-inner"><div class="outer"><a href="/" id="logo"><span class="site-title">Kévin Chalet&#39;s blog</span></a><nav id="main-nav"><a class="main-nav-link" href="/.">Home</a> <a class="main-nav-link" href="/archives/">Archives</a></nav><nav id="sub-nav"><div class="profile" id="profile-nav"><a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://kevinchalet.com/assets/photo.png"><i class="fa fa-caret-down"></i></a></div></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"></button><input type="hidden" name="sitesearch" value="https://kevinchalet.com"></form></div></div></div></header><div class="outer"><aside id="profile"><div class="inner profile-inner"><div class="base-info profile-block"><img id="avatar" src="https://kevinchalet.com/assets/photo.png"><h2 id="name">Kévin Chalet</h2><h3 id="title">.NET-holic and OpenID-addict MVP in the wild.</h3><span id="location"><i class="fa fa-map-marker"></i>France</span> <a id="follow" href="https://twitter.com/intent/user?screen_name=kevin_chalet"><i class="fa fa-twitter fa-lg"></i> Follow me on Twitter</a></div><div class="article-info profile-block"><div class="article-info-block">37 <span>posts</span></div><div class="article-info-block">29 <span>tags</span></div></div><div class="contact-info profile-block"><table class="contact-list"><tr><td><a href="mailto:contact@kevinchalet.com" title="Email"><i class="fa fa-envelope"></i></a></td><td><a href="https://www.linkedin.com/in/kevinchalet/" title="LinkedIn"><i class="fa fa-linkedin"></i></a></td><td><a href="https://github.com/kevinchalet" title="GitHub"><i class="fa fa-github"></i></a></td><td><a href="https://twitter.com/kevin_chalet" title="Twitter"><i class="fa fa-twitter"></i></a></td><td><a href="https://stackoverflow.com/users/542757/k%c3%a9vin-chalet" title="StackOverflow"><i class="fa fa-stack-overflow"></i></a></td><td><a href="https://mvp.microsoft.com/fr-fr/PublicProfile/5001682" title="Microsoft MVP"><i class="fa fa-windows"></i></a></td><td><a href="/atom.xml" title="RSS"><i class="fa fa-rss"></i></a></td></tr></table></div></div></aside><section id="main"><article id="post-asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2021/05/24/asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think/">ASP.NET Core 6 and authentication servers: the real bait and switch is not the one you think</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2021/05/24/asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think/"><time datetime="2021-05-24T18:30:00.000Z" itemprop="datePublished">2021-05-24</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/general/">General</a></div></div></header><div class="article-entry" itemprop="articleBody"><p>Earlier this month, <a href="https://devblogs.microsoft.com/aspnet/asp-net-core-6-and-authentication-servers/">Barry Dorrans – the Security PM for .NET – announced</a> that the ASP.NET Core templates would be updated to target Duende IdentityServer5 as part of the .NET 6 effort and that the ASP.NET team was considering creating a development-only tool for testing OpenID Connect integration in .NET 7.</p><p>By looking at the reactions under the blog post, <a href="https://github.com/dotnet/aspnetcore/issues/32494">on GitHub</a> or <a href="https://www.reddit.com/r/dotnet/comments/n8euul/aspnet_core_6_and_authentication_servers_status/">on Reddit</a>, the least we can say is that people are always quite passionate when it comes to how Microsoft treats these topics. Some like that decision while a few others feel &quot;betrayed&quot; and consider this move a &quot;bait and switch&quot;:</p><img src="/2021/05/24/asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think/github-post-1.png" alt="github-post-1.png"><p>Despite this move, <strong>my personal opinion hasn&#39;t changed</strong>: I was very happy when Microsoft announced they would use IdentityServer4 in 2018 and the commitment to use the new dual-licensed version of IdentityServer in .NET 6 (instead of writing their own OIDC server from scratch) is, in my opinion, a step in the right direction in changing their relationship with the .NET community: Microsoft can&#39;t provide everything out-of-the-box and promoting third-party projects is a great approach.</p><p>The fact Microsoft keeps sponsoring the IdentityServer project – for $12,000/year at the time of writing – is also an excellent signal sent to the community. Even if you&#39;ve never liked Microsoft&#39;s love/hate relationship with OSS, it would be very hard to deny that the company has positively changed in this regard.</p><p class="article-more-link"><a href="/2021/05/24/asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2021/05/24/asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think/" data-id="ckwxqzc6t00107gi2hd9x4pz7" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core-identity/">asp.net core identity</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/auth0/">auth0</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azure-ad/">azure ad</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/okta/">okta</a></li></ul></footer></div></article><article id="post-openiddict-3-0-general-availability" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2020/12/23/openiddict-3-0-general-availability/">OpenIddict 3.0 general availability</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2020/12/23/openiddict-3-0-general-availability/"><time datetime="2020-12-23T21:00:00.000Z" itemprop="datePublished">2020-12-23</time></a></div><div class="article-category"><i class="fa fa-folder"></i> <a class="article-category-link" href="/categories/development/">Development</a></div></div></header><div class="article-entry" itemprop="articleBody"><img src="/2020/12/23/openiddict-3-0-general-availability/christmas-tree.jpg" alt="christmas-tree.jpg"><p>One year and a half after releasing the first OpenIddict 3.0 alpha bits, <strong>I&#39;m very pleased to announce that 3.0 is now generally available</strong>!</p><p>This release is unquestionably OpenIddict&#39;s most exciting milestone, as both the server and validation stacks were rewritten from scratch to adopt a whole new event-oriented model, which should give OpenIddict 3.0 <strong>much more flexibility and extensibility than the aspnet-contrib OpenID Connect server and validation middleware it replaces</strong>.</p><p>If you&#39;re interested in reading more about the changes introduced in this release, I wrote a few blog posts describing the most important ones:</p><ul><li><a href="/2020/02/18/creating-an-openid-connect-server-proxy-with-openiddict-3-0-s-degraded-mode/" title="Creating an OpenID Connect server proxy with OpenIddict 3.0's degraded mode">Creating an OpenID Connect server proxy with OpenIddict 3.0's degraded mode</a></li><li><a href="/2020/03/03/adding-openiddict-3-0-to-an-owin-application/" title="Adding OpenIddict 3.0 to an OWIN application">Adding OpenIddict 3.0 to an OWIN application</a></li><li><a href="/2020/06/11/introducing-openiddict-3-0-beta1/" title="Introducing OpenIddict 3.0 beta1">Introducing OpenIddict 3.0 beta1</a></li><li><a href="/2020/07/08/openiddict-3-0-beta2-is-out/" title="OpenIddict 3.0 beta2 is out">OpenIddict 3.0 beta2 is out</a></li><li><a href="/2020/08/03/introducing-localization-support-in-openiddict-3-0-beta3/" title="Introducing localization support in OpenIddict 3.0 beta3">Introducing localization support in OpenIddict 3.0 beta3</a> (<em>note: localization support had to be removed in rc1 to keep the error descriptions returned by OpenIddict standard-compliant</em>)</li><li><a href="/2020/10/02/introducing-quartz-net-support-and-new-languages-in-openiddict-3-0-beta4/" title="Introducing Quartz.NET support and new languages in OpenIddict 3.0 beta4">Introducing Quartz.NET support and new languages in OpenIddict 3.0 beta4</a></li><li><a href="/2020/10/03/using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment/" title="Using the OrchardCore OpenID management feature with an existing OpenIddict deployment">Using the OrchardCore OpenID management feature with an existing OpenIddict deployment</a></li><li><a href="/2020/10/27/openiddict-3-0-beta6-is-out/" title="OpenIddict 3.0 beta6 is out">OpenIddict 3.0 beta6 is out</a></li><li><a href="/2020/11/17/introducing-openiddict-3-0-s-first-release-candidate-version/" title="Introducing OpenIddict 3.0's first release candidate version">Introducing OpenIddict 3.0's first release candidate version</a></li></ul><div class="note undefined"><p>In OpenIddict 3.0 RTM, the Data Protection formatter used to create and read tokens serialized using ASP.NET Core Data Protection was fixed to use the same serialization versions as OpenIddict 2.x so that tokens created with OpenIddict 2.x can be read and used with OpenIddict 3.0. This change will impact users of the beta and RC versions that opted in for the Data Protection format (typically, OrchardCore users). Fortunately, this only requires retrieving new refresh tokens by starting a new authorization flow.</p></div><p>As announced in <a href="/2020/06/11/introducing-openiddict-3-0-beta1/" title="Introducing OpenIddict 3.0 beta1">Introducing OpenIddict 3.0 beta1</a>, <strong>the OpenIddict 2.x and aspnet-contrib OpenID Connect server/validation middleware are now considered legacy/obsolete packages and won&#39;t receive bug fixes or security updates</strong>.</p><p>Whether you&#39;re still on ASP.NET 4.x (via OWIN/Katana), ASP.NET Core 2.1 on .NET Framework or .NET Core, ASP.NET Core 3.1 or are already using ASP.NET Core 5.0, migrating to OpenIddict 3.0 should never be a blocking factor, thanks to its broader-than-ever platforms support!</p><p>If you need additional time to migrate to OpenIddict 3.0 and are interesting in chatting about your options, feel free to ping me at <a href="mailto:contact@kevinchalet.com">contact@kevinchalet.com</a>.</p><p>I&#39;d like to thank <a href="https://github.com/sebastienros" target="_blank" rel="external">Sébastien Ros</a>, <a href="https://github.com/mridentity" target="_blank" rel="external">mridentity</a>, <a href="https://github.com/GDreyV" target="_blank" rel="external">Andrew</a>, <a href="https://github.com/gustavdw" target="_blank" rel="external">gustavdw</a>, <a href="https://github.com/Gillardo" target="_blank" rel="external">Gillardo</a>, <a href="https://github.com/DovydasNavickas" target="_blank" rel="external">Dovydas Navickas</a> and <a href="https://github.com/schmitch" target="_blank" rel="external">Christian Schmitt</a> for <a href="https://github.com/sponsors/kevinchalet" target="_blank" rel="external">sponsoring me on GitHub</a>, which allows me to dedicate more time to OpenIddict! You guys have no idea how much I appreciate that.</p><p>Merry Christmas everyone!</p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2020/12/23/openiddict-3-0-general-availability/" data-id="ckwxqzc6q000y7gi2pjvjarhe" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/asp-net-core/">asp.net core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openiddict/">openiddict</a></li></ul></footer></div></article><article id="post-introducing-openiddict-3-0-s-first-release-candidate-version" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2020/11/17/introducing-openiddict-3-0-s-first-release-candidate-version/">Introducing OpenIddict 3.0&#39;s first release candidate version</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2020/11/17/introducing-openiddict-3-0-s-first-release-candidate-version/"><time datetime="2020-11-17T21:00:00.000Z" itemprop="datePublished">2020-11-17</time></a></div></div></header><div class="article-entry" itemprop="articleBody"><h2 id="What-changed"><a href="#What-changed" class="headerlink" title="What changed?"></a>What changed?</h2><p>All the changes introduced in this release can be found <a href="https://github.com/openiddict/openiddict-core/issues?q=milestone%3A3.0.0-rc1" target="_blank" rel="external">on GitHub</a>.</p><p>While this release almost exclusively focused on fixing bugs and eliminating pain points, an important change affected our localization story: starting with OpenIddict 3.0 RC1, <strong>the error descriptions returned by OpenIddict itself will no longer be translated</strong>.</p><p>Thanks to <a href="https://github.com/openiddict/openiddict-core/issues/1164" target="_blank" rel="external">an external report</a>, I discovered that the localization support introduced in OpenIddict 3.0 beta3 was causing issues when returned as part of the standard <code>WWW-Authenticate</code> response header. Worse, it was violating the OAuth 2.0 core specification, that requires that all <code>error_description</code>s (not just the ones returned in <code>WWW-Authenticate</code>) only include US-ASCII characters: even diacritics like <code>é</code> (that are common in French) are not allowed. In practice, that means we can sadly only return English error descriptions and that&#39;s why localization support had to be removed in this release.</p><p>That said, I still believe having localized content is extremely useful and makes a library like OpenIddict more inclusive and developer-friendly. As such, we&#39;ll opt for a different approach in the next RC: the OpenIddict server and validation stacks will be updated to always include a unique <code>error_uri</code> pointing to <a href="http://openiddict.com/" target="_blank" rel="external">openiddict.com</a>, which will allow documenting every returned error over time.</p><h2 id="What-39-s-next"><a href="#What-39-s-next" class="headerlink" title="What&#39;s next?"></a>What&#39;s next?</h2><p><strong>OpenIddict 3.0 RTM is expected to ship mid-December</strong>. Before that, a second release candidate version should be released early December.</p><p>OpenIddict 2.x and the aspnet-contrib OAuth 2.0/OpenID Connect server/extensions will no longer be supported and won&#39;t receive free security updates/bug fixes as soon as 3.0 is officially released (<strong>only users benefiting from a support contract will still receive updates</strong>). As such, it is very important for users of these packages to start evaluating OpenIddict 3.0 RC1 as soon as possible, so that potential bugs affecting their scenarios can be fixed in the RTM version.</p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2020/11/17/introducing-openiddict-3-0-s-first-release-candidate-version/" data-id="ckwxqzc6l000w7gi210ts3jmg" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openiddict/">openiddict</a></li></ul></footer></div></article><article id="post-openiddict-3-0-beta6-is-out" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2020/10/27/openiddict-3-0-beta6-is-out/">OpenIddict 3.0 beta6 is out</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2020/10/27/openiddict-3-0-beta6-is-out/"><time datetime="2020-10-27T19:00:00.000Z" itemprop="datePublished">2020-10-27</time></a></div></div></header><div class="article-entry" itemprop="articleBody"><h2 id="What-changed"><a href="#What-changed" class="headerlink" title="What changed?"></a>What changed?</h2><p>All the changes introduced in this release can be found <a href="https://github.com/openiddict/openiddict-core/issues?q=milestone%3A3.0.0-beta6">on GitHub</a>, but here&#39;s a recap of the most important ones:</p><h3 id="OpenIddict-now-supports-response-type-permissions"><a href="#OpenIddict-now-supports-response-type-permissions" class="headerlink" title="OpenIddict now supports response type permissions"></a>OpenIddict now supports response type permissions</h3><p>In previous versions, the <code>response_type</code> values an application was allowed to use were always inferred from the grant types. For instance, if a client was granted the <code>authorization_code</code> grant type permission, it was automatically allowed to use <code>response_type=code</code> (that corresponds to the &quot;pure&quot; authorization code). If it was granted the <code>implicit</code> permission, it was also allowed to use <code>response_type=id_token</code> and depending on its type (confidential or public), <code>response_type=id_token token</code> and <code>response_type=token</code>.</p><p>While convenient, this approach lacked granularity. In OpenIddict 3.0 beta6, this mechanism is replaced by explicit response type permissions. Response type permissions are granted exactly the same way as the other permissions:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">await</span> manager.CreateAsync(<span class="keyword">new</span> OpenIddictApplicationDescriptor</div><div class="line">&#123;</div><div class="line">    ClientId = <span class="string">"mvc"</span>,</div><div class="line">    ClientSecret = <span class="string">"901564A5-E7FE-42CB-B10D-61EF6A8F3654"</span>,</div><div class="line">    ConsentType = ConsentTypes.Explicit,</div><div class="line">    DisplayName = <span class="string">"MVC client application"</span>,</div><div class="line">    DisplayNames =</div><div class="line">    &#123;</div><div class="line">        [CultureInfo.GetCultureInfo(<span class="string">"fr-FR"</span>)] = <span class="string">"Application cliente MVC"</span></div><div class="line">    &#125;,</div><div class="line">    PostLogoutRedirectUris =</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">new</span> Uri(<span class="string">"https://localhost:44381/signout-callback-oidc"</span>)</div><div class="line">    &#125;,</div><div class="line">    RedirectUris =</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">new</span> Uri(<span class="string">"https://localhost:44381/signin-oidc"</span>)</div><div class="line">    &#125;,</div><div class="line">    Permissions =</div><div class="line">    &#123;</div><div class="line">        Permissions.Endpoints.Authorization,</div><div class="line">        Permissions.Endpoints.Logout,</div><div class="line">        Permissions.Endpoints.Token,</div><div class="line">        Permissions.GrantTypes.AuthorizationCode,</div><div class="line">        Permissions.GrantTypes.RefreshToken,</div><div class="line">        Permissions.ResponseTypes.Code, <span class="comment">// New permission</span></div><div class="line">        Permissions.Scopes.Email,</div><div class="line">        Permissions.Scopes.Profile,</div><div class="line">        Permissions.Scopes.Roles,</div><div class="line">        Permissions.Prefixes.Scope + <span class="string">"demo_api"</span></div><div class="line">    &#125;,</div><div class="line">    Requirements =</div><div class="line">    &#123;</div><div class="line">        Requirements.Features.ProofKeyForCodeExchange</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>Introducing response type permissions was also a good opportunity for removing the OpenIddict-specific <code>hybrid</code> client type, that was used by confidential clients that also wanted to retrieve an access token directly from the authorization endpoint. In beta6, the <code>hybrid</code> type is no longer supported and must be replaced by explicit <code>Permissions.ResponseTypes.CodeIdTokenToken</code> or <code>Permissions.ResponseTypes.CodeToken</code> permissions.</p><p class="article-more-link"><a href="/2020/10/27/openiddict-3-0-beta6-is-out/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2020/10/27/openiddict-3-0-beta6-is-out/" data-id="ckwxqzca0006c7gi2bgbl24xt" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authentication/">authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jwt/">jwt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oauth/">oauth</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openid-connect/">openid connect</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openiddict/">openiddict</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/owin/">owin</a></li></ul></footer></div></article><article id="post-using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 itemprop="name"><a class="article-title" href="/2020/10/03/using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment/">Using the OrchardCore OpenID management feature with an existing OpenIddict deployment</a></h1><div class="article-meta"><div class="article-date"><i class="fa fa-calendar"></i> <a href="/2020/10/03/using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment/"><time datetime="2020-10-03T19:45:00.000Z" itemprop="datePublished">2020-10-03</time></a></div></div></header><div class="article-entry" itemprop="articleBody"><p>With the recent announcement that <a href="https://leastprivilege.com/2020/10/01/the-future-of-identityserver/">IdentityServer is transitioning to a commercial model</a>, some of you may already be looking for alternatives. <strong>I&#39;d like to reiterate that I encourage every IdentityServer user to keep using it</strong> <em>and pay for it</em>, but I also realize that not everyone will be able to afford an IdentityServer licence (whose cheapest plan is $1,500/year). As such, it was not a surprise to receive many mails from IdentityServer users evaluating their options soon after the announcement.</p><p>Even though both implement the OpenID Connect and OAuth 2.0 specifications, OpenIddict and IdentityServer4 are very different under the hood and have different approaches: IdentityServer4 was designed as a general and ready-to-use identity provider for ASP.NET Core while OpenIddict 3.0 aims at offering a fully modular OpenID Connect server and validation stack that can be used not only on ASP.NET Core 2.1 (.NET Framework and .NET Core), 3.1 and 5.0, but also in legacy ASP.NET &gt;= 4.6.1 applications using OWIN/Katana.</p><p>Internally, the two server stacks don&#39;t have much in common: IdentityServer4 uses a traditional and linear services-based approach (with request/token validators and response generators) while OpenIddict 3.0 uses a completely different model based on events and asynchronous events handlers: each handler is responsible of a very specific task (e.g ensuring a <code>redirect_uri</code> is not malformed and doesn&#39;t include a fragment) and all the handlers can be removed, reordered and even replaced by custom handlers for those who need to override the default logic used by OpenIddict 3.0.</p><p>Unlike IdentityServer4, OpenIddict doesn&#39;t ship with any membership stack integration, which is something developers must implement themselves. In the OpenIddict world, this is typically done by adding an authorization controller that serves as bridge between the user authentication part (generally implemented using ASP.NET Core Identity) and the OpenID Connect authorization part. Concretely, OpenIddict only knows about <code>ClaimsPrincipal</code> instances and you&#39;re responsible of providing <code>ClaimsPrincipal</code>s containing the claims you want OpenIddict to use in your tokens.</p><p>You probably guessed it by now: OpenIddict 3.0 is very different from IdentityServer4 and those hoping for a free look-alike will likely be disappointed. Fortunately, implementing an OpenID Connect server using OpenIddict is not hard, and generally consists in copying a few files from the <a href="https://github.com/openiddict/openiddict-samples">openiddict-samples</a> repository.</p><p>There&#39;s however something that IdentityServer4 users will likely miss: an equivalent of the popular <code>Skoruba.IdentityServer4.Admin</code> project that offers a GUI to manage users, roles, clients and authorizations. While there&#39;s indeed no direct equivalent in OpenIddict itself, the OrchardCore project has a native OpenID module based on OpenIddict that includes a clients management feature. This feature is still young and quite limited (read, not as complete as <code>Skoruba.IdentityServer4.Admin</code>), but it&#39;s actively developed and contributions are always welcome.</p><p>In this blog post, I&#39;ll demonstrate how this management GUI can be used with an existing OpenIddict server (typically located in another project).</p><p class="article-more-link"><a href="/2020/10/03/using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment/">Read more</a></p></div><footer class="article-footer"><a data-url="https://kevinchalet.com/2020/10/03/using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment/" data-id="ckwxqzca2006f7gi20t9bnntp" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cms/">cms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openiddict/">openiddict</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/orchard/">orchard</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/orchardcore/">orchardcore</a></li></ul></footer></div></article><nav id="page-nav"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a></nav></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">recents</h3><div class="widget"><ul id="recent-post" class="no-thumbnail"><li><div class="item-inner"><p class="item-title"><a href="/2021/05/24/asp-net-core-6-and-authentication-servers-the-real-bait-and-switch-is-not-the-one-you-think/" class="title">ASP.NET Core 6 and authentication servers: the real bait and switch is not the one you think</a></p><p class="item-date"><time datetime="2021-05-24T18:30:00.000Z" itemprop="datePublished">2021-05-24</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/12/23/openiddict-3-0-general-availability/" class="title">OpenIddict 3.0 general availability</a></p><p class="item-date"><time datetime="2020-12-23T21:00:00.000Z" itemprop="datePublished">2020-12-23</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/11/17/introducing-openiddict-3-0-s-first-release-candidate-version/" class="title">Introducing OpenIddict 3.0&#39;s first release candidate version</a></p><p class="item-date"><time datetime="2020-11-17T21:00:00.000Z" itemprop="datePublished">2020-11-17</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/10/27/openiddict-3-0-beta6-is-out/" class="title">OpenIddict 3.0 beta6 is out</a></p><p class="item-date"><time datetime="2020-10-27T19:00:00.000Z" itemprop="datePublished">2020-10-27</time></p></div></li><li><div class="item-inner"><p class="item-title"><a href="/2020/10/03/using-the-orchardcore-openid-management-feature-with-an-existing-openiddict-deployment/" class="title">Using the OrchardCore OpenID management feature with an existing OpenIddict deployment</a></p><p class="item-date"><time datetime="2020-10-03T19:45:00.000Z" itemprop="datePublished">2020-10-03</time></p></div></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/development/">Development</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/general/">General</a><span class="category-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">tags</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/net/">.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net/">asp.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net-core/">asp.net core</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp-net-core-identity/">asp.net core identity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aspnet-contrib/">aspnet-contrib</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auth0/">auth0</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/authentication/">authentication</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/">azure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure-ad/">azure ad</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cms/">cms</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/component-object-model/">component object model</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/">jwt</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manifest/">manifest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oauth/">oauth</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/okta/">okta</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid/">openid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openid-connect/">openid connect</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openiddict/">openiddict</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orchard/">orchard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orchardcore/">orchardcore</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/owin/">owin</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/razor/">razor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tls/">tls</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uwp/">uwp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vulnerability/">vulnerability</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-authentication-broker/">web authentication broker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/">windows</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-10/">windows 10</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-media-center/">windows media center</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">9</span></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2016 - 2021 Kévin Chalet<br>Proudly powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with <a href="http://github.com/ppoffice" target="_blank">Ruipeng Zhang</a>'s <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus theme</a> and <a href="https://www.flickr.com/photos/madison_slater/" target="_blank">Madison Slater</a>'s <a href="https://www.flickr.com/photos/madison_slater/11299339856/" target="_blank">photos</a>.</div></div></footer><script src="/js/jquery.js"></script><script src="/js/script.js"></script></div></body>